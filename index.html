<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Birthday üéâ</title>

<style>
body {
margin:0;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
background:linear-gradient(135deg,#ff9a9e,#fad0c4);
font-family:Arial;
overflow:hidden;
}

.container {
text-align:center;
background:white;
padding:40px;
border-radius:20px;
box-shadow:0 10px 25px rgba(0,0,0,.2);
animation:pop 1s;
max-width:500px;
width:90%;
}

@keyframes pop {
from {transform:scale(.5);opacity:0;}
to {transform:scale(1);opacity:1;}
}

h1 {
color:#ff4d6d;
}

button {
padding:12px 25px;
border:none;
border-radius:20px;
background:#ff4d6d;
color:white;
font-size:16px;
cursor:pointer;
margin:20px 0;
}

button:hover {
background:#ff1f4b;
}

#msg {
margin:20px 0;
min-height:30px;
}

/* IMAGES SIDE BY SIDE - FIXED */
.images-row {
display:flex;
justify-content:center;
gap:15px;
margin-top:20px;
flex-wrap:wrap;
}

#friendPic, #second {
width:150px;
height:auto; /* Auto height to maintain aspect ratio */
max-height:200px; /* Limit maximum height */
border-radius:10px;
display:none;
box-shadow:0 5px 15px rgba(0,0,0,.3);
/* Remove object-fit: cover to prevent cropping */
}

.balloon {
position:absolute;
bottom:-100px;
width:40px;
height:50px;
border-radius:50%;
animation:float 6s infinite;
}

@keyframes float {
0% {transform:translateY(0);}
100% {transform:translateY(-900px);}
}

/* Simple music button */
.music-btn {
position: fixed;
top: 20px;
right: 20px;
background: #ff4d6d;
color: white;
width: 50px;
height: 50px;
border-radius: 50%;
border: none;
font-size: 20px;
cursor: pointer;
z-index: 100;
box-shadow: 0 3px 10px rgba(0,0,0,0.2);
}
</style>
</head>

<body>

<!-- Music Button -->
<button class="music-btn" id="musicBtn" onclick="playMusicFirst()">üîá</button>

<div class="container">
<h1>üéâ Happy Birthday Uzair üéÇ</h1>

<button onclick="surprise()">Click for Surprise üéÅ</button>

<h3 id="msg"></h3>

<!-- Images in a row, side by side -->
<div class="images-row">
    <img id="friendPic" src="pic1.jpg" alt="Photo 1">
    <img id="second" src="pic2.jpg" alt="Photo 2">
</div>

</div>

<audio id="bgMusic" loop>
   <source src="song.mp3" type="audio/mpeg">
</audio>

<script>
let musicReady = false;

// FIRST: User must click the music button before anything else
function playMusicFirst() {
    const bgMusic = document.getElementById('bgMusic');
    const musicBtn = document.getElementById('musicBtn');
    
    bgMusic.volume = 0.7; // Set volume
    
    bgMusic.play().then(() => {
        musicReady = true;
        musicBtn.textContent = 'üîä';
        musicBtn.style.background = '#4CAF50';
        musicBtn.onclick = function() {
            bgMusic.pause();
            musicBtn.textContent = 'üîá';
            musicBtn.style.background = '#ff4d6d';
            musicBtn.onclick = function() {
                bgMusic.play();
                musicBtn.textContent = 'üîä';
                musicBtn.style.background = '#4CAF50';
                musicBtn.onclick = function() {
                    bgMusic.pause();
                    musicBtn.textContent = 'üîá';
                    musicBtn.style.background = '#ff4d6d';
                    musicBtn.onclick = function() {
                        bgMusic.play();
                        musicBtn.textContent = 'üîä';
                        musicBtn.style.background = '#4CAF50';
                    };
                };
            };
        };
        alert("üéµ Music enabled! Now click the 'Click for Surprise' button.");
    }).catch(error => {
        alert("‚ùå Could not play music. Trying with fallback...");
        // Try with fallback online music
        tryOnlineMusic();
    });
}

function tryOnlineMusic() {
    const bgMusic = document.getElementById('bgMusic');
    // Clear current source
    bgMusic.innerHTML = '';
    // Add online birthday music
    const source = document.createElement('source');
    source.src = 'https://assets.mixkit.co/music/preview/mixkit-happy-birthday-to-you-443.mp3';
    source.type = 'audio/mpeg';
    bgMusic.appendChild(source);
    bgMusic.load();
    
    bgMusic.play().then(() => {
        musicReady = true;
        document.getElementById('musicBtn').textContent = 'üîä';
        document.getElementById('musicBtn').style.background = '#4CAF50';
        alert("‚úÖ Online birthday music playing! Now click 'Click for Surprise'.");
    }).catch(e => {
        alert("‚ö†Ô∏è Music cannot be played due to browser restrictions. The rest will still work!");
    });
}

function surprise(){
    // Show message
    document.getElementById("msg").innerHTML = "‚ú® May you be mine forever! ‚ú®";
    
    // Show both images
    document.getElementById("friendPic").style.display = "block";
    document.getElementById("second").style.display = "block";
    
    // Create balloons
    for(let i=0;i<25;i++){
        let b = document.createElement("div");
        b.className = "balloon";
        b.style.left = Math.random()*100 + "%";
        b.style.background = `hsl(${Math.random()*360},100%,60%)`;
        b.style.animationDuration = (Math.random()*3+4) + "s";
        document.body.appendChild(b);
    }
    
    // Speech synthesis
    speechSynthesis.speak(
        new SpeechSynthesisUtterance("Happy 23 Birthday Uzyr! I love you so much. Your birthday is literally my Eeed. I wanna celebrate your birthday like a festival but unfortunately we are living in long distance. Anyway I wanted to make you feel special in a long distance too. I want you to know that you are my whole world. No one can take your place. You are the bestest part of my life. May Allah bless you with happiness! May You become EO very soon and make me proud so I can successfully introduce you to my family. Once again happy birthday love")
    );
    
    // Check if music is playing
    if (!musicReady) {
        document.getElementById("msg").innerHTML += "<br><small style='color:red;'>Click the üîä button in top right first for music!</small>";
    }
}
</script>

</body>
</html>
